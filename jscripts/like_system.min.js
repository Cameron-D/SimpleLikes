!function(t,e,o){var i=this.MybbStuff=this.MybbStuff||{};this.MybbStuff.LikeSystem=function(t){var e,o=function(t,o){this.selector=t,this.postKey=o,this.VERSION="1.3.1",e=this};return o.prototype={constructor:o,init:function(){return t("body").on("click",e.selector,e.togglePostLike),e},togglePostLike:function(o){o.preventDefault();var i=t(this),s=i.attr("id").substr(16);return t.post("xmlhttp.php?action=like_post",{my_post_key:e.postKey,post_id:s},e.togglePostLikeSuccess,"json"),!1},togglePostLikeSuccess:function(e){if(e.errors)t.each(e.errors,function(t,e){e&&(console.log(e),alert(e))}),alert(e.error);else{var o=t("#post_likes_"+e.postId),i=t("#likeButton_post_"+e.postId);0!==o.length&&0!==e.likeString.length?o.html(e.likeString):0!==o.length?o.fadeOut("slow",function(){t(this).remove()}):t("#pid_"+e.postId).after(e.templateString),0!==i.length&&i.text(e.buttonString)}}},o}(t,window),t(e).ready(function(){var t=new i.LikeSystem("a[id^='likeButton_post_']",o);t.init()})}(jQuery,document,my_post_key);